<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√§gliche Arbeits-Checkliste</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        .date-section {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .time-block {
            margin: 0;
            border-bottom: 1px solid #e9ecef;
        }
        .time-header {
            background: #4a5568;
            color: white;
            padding: 12px 20px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .task-table {
            width: 100%;
            border-collapse: collapse;
        }
        .task-row {
            border-bottom: 1px solid #e2e8f0;
        }
        .task-row:hover {
            background-color: #f7fafc;
        }
        .task-cell {
            padding: 12px 15px;
            border-right: 1px solid #e2e8f0;
            vertical-align: top;
        }
        .task-cell:last-child {
            border-right: none;
        }
        .checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        .task-description {
            font-weight: 500;
            color: #2d3748;
        }
        .task-details {
            font-size: 0.9em;
            color: #718096;
            margin-top: 4px;
        }
        .priority-high {
            border-left: 4px solid #e53e3e;
        }
        .priority-medium {
            border-left: 4px solid #ed8936;
        }
        .priority-low {
            border-left: 4px solid #38a169;
        }
        .completed {
            background-color: #f0fff4;
            text-decoration: line-through;
            opacity: 0.7;
        }
        .notes-input {
            width: 100%;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            padding: 6px 8px;
            font-size: 0.9em;
            resize: vertical;
            min-height: 30px;
        }
        .add-task-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            margin: 10px 0;
        }
        .add-task-btn:hover {
            background: #3182ce;
        }
        .export-btn {
            background: #38a169;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        .export-btn:hover {
            background: #2f855a;
        }
        .footer-stats {
            background: #f8f9fa;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìã T√§gliche Arbeits-Checkliste</h1>
            <p>Strukturiert durch den Tag - Schritt f√ºr Schritt</p>
        </div>
        
        <div class="date-section">
            <div>
                <strong>Datum:</strong> <input type="date" id="currentDate" style="padding: 5px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            <div>
                <button class="export-btn" onclick="exportTasks()">üì§ Als Text exportieren</button>
                <button class="export-btn" onclick="resetDay()">üîÑ Tag zur√ºcksetzen</button>
            </div>
        </div>

        <!-- 6:45 - 8:30 Fr√ºh -->
        <div class="time-block">
            <div class="time-header">
                <span>üåÖ 6:45 - 8:30 Uhr: Operative Unterst√ºtzung & Abnahmen</span>
                <span id="progress-early">0/3</span>
            </div>
            <table class="task-table">
                <tr class="task-row priority-high" data-time="early">
                    <td class="task-cell" style="width: 40px;"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell" style="width: 300px;">
                        <div class="task-description">Team drau√üen unterst√ºtzen</div>
                        <div class="task-details">Handschuhe, Material, kurze Abstimmung</div>
                    </td>
                    <td class="task-cell" style="width: 100px;">30 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Notizen, Besonderheiten..."></textarea></td>
                </tr>
                <tr class="task-row priority-high" data-time="early">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Abnahmen vom Vortag pr√ºfen</div>
                        <div class="task-details">Erst wenn alles gekl√§rt ist ‚Üí weiter!</div>
                    </td>
                    <td class="task-cell">45 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Unklarheiten, R√ºckfragen..."></textarea></td>
                </tr>
                <tr class="task-row priority-medium" data-time="early">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Abstimmung mit Teamleiter</div>
                        <div class="task-details">Offene Punkte kl√§ren</div>
                    </td>
                    <td class="task-cell">30 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Gespr√§chsnotizen..."></textarea></td>
                </tr>
            </table>
            <button class="add-task-btn" onclick="addTask('early')">+ Aufgabe hinzuf√ºgen</button>
        </div>

        <!-- 8:30 - 10:30 Morgen -->
        <div class="time-block">
            <div class="time-header">
                <span>üìß 8:30 - 10:30 Uhr: Kommunikation & Buchhaltung</span>
                <span id="progress-morning">0/2</span>
            </div>
            <table class="task-table">
                <tr class="task-row priority-high" data-time="morning">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Kunden-E-Mails bearbeiten</div>
                        <div class="task-details">Dringende zuerst, Rechnungen identifizieren</div>
                    </td>
                    <td class="task-cell">60 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Wichtige E-Mails notieren..."></textarea></td>
                </tr>
                <tr class="task-row priority-medium" data-time="morning">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Eingangsrechnungen scannen & weiterleiten</div>
                        <div class="task-details">An spezielle E-Mail-Adresse senden</div>
                    </td>
                    <td class="task-cell">60 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Anzahl Rechnungen, Besonderheiten..."></textarea></td>
                </tr>
            </table>
            <button class="add-task-btn" onclick="addTask('morning')">+ Aufgabe hinzuf√ºgen</button>
        </div>

        <!-- 10:30 - 12:30 Vormittag -->
        <div class="time-block">
            <div class="time-header">
                <span>üí∞ 10:30 - 12:30 Uhr: Lohnthemen & Lexware</span>
                <span id="progress-forenoon">0/2</span>
            </div>
            <table class="task-table">
                <tr class="task-row priority-high" data-time="forenoon">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">T√§gliche Lohnkontrolle</div>
                        <div class="task-details">Zeiterfassung, Krankheiten, Urlaube pr√ºfen</div>
                    </td>
                    <td class="task-cell">90 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Fehlende Stunden, Krankmeldungen..."></textarea></td>
                </tr>
                <tr class="task-row priority-medium" data-time="forenoon">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Lexware-Arbeiten</div>
                        <div class="task-details">Buchungen abschlie√üen, kontrollieren</div>
                    </td>
                    <td class="task-cell">30 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Gebuchte Rechnungen, Probleme..."></textarea></td>
                </tr>
            </table>
            <button class="add-task-btn" onclick="addTask('forenoon')">+ Aufgabe hinzuf√ºgen</button>
        </div>

        <!-- 13:30 - 16:30 Nachmittag -->
        <div class="time-block">
            <div class="time-header">
                <span>üìä 13:30 - 16:30 Uhr: Buchhaltung & Administration</span>
                <span id="progress-afternoon">0/3</span>
            </div>
            <table class="task-table">
                <tr class="task-row priority-medium" data-time="afternoon">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Buchhaltung Nacharbeiten</div>
                        <div class="task-details">Ausgangsrechnungen, offene Posten</div>
                    </td>
                    <td class="task-cell">90 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Erstellte Rechnungen, Zahlungseing√§nge..."></textarea></td>
                </tr>
                <tr class="task-row priority-low" data-time="afternoon">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Kunden-E-Mails Nachbearbeitung</div>
                        <div class="task-details">R√ºckfragen, Rechnungsstellung</div>
                    </td>
                    <td class="task-cell">60 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Offene Kundenanfragen..."></textarea></td>
                </tr>
                <tr class="task-row priority-low" data-time="afternoon">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Administrative Aufgaben</div>
                        <div class="task-details">Termine, Gesch√§ftsf√ºhrung</div>
                    </td>
                    <td class="task-cell">30 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Termine, wichtige Entscheidungen..."></textarea></td>
                </tr>
            </table>
            <button class="add-task-btn" onclick="addTask('afternoon')">+ Aufgabe hinzuf√ºgen</button>
        </div>

        <!-- 16:30 - 17:00 Tagesabschluss -->
        <div class="time-block">
            <div class="time-header">
                <span>‚úÖ 16:30 - 17:00 Uhr: Tagesabschluss</span>
                <span id="progress-end">0/3</span>
            </div>
            <table class="task-table">
                <tr class="task-row priority-high" data-time="end">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">To-Do-Liste f√ºr morgen</div>
                        <div class="task-details">Priorit√§ten festlegen</div>
                    </td>
                    <td class="task-cell">15 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Aufgaben f√ºr morgen..."></textarea></td>
                </tr>
                <tr class="task-row priority-medium" data-time="end">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Abstimmung mit Mann</div>
                        <div class="task-details">Tagesr√ºckblick, wichtige Punkte</div>
                    </td>
                    <td class="task-cell">10 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Besprochene Themen..."></textarea></td>
                </tr>
                <tr class="task-row priority-low" data-time="end">
                    <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                    <td class="task-cell">
                        <div class="task-description">Abnahmen-Check f√ºr heute</div>
                        <div class="task-details">Sind alle dokumentiert?</div>
                    </td>
                    <td class="task-cell">5 Min.</td>
                    <td class="task-cell"><textarea class="notes-input" placeholder="Status Abnahmen..."></textarea></td>
                </tr>
            </table>
            <button class="add-task-btn" onclick="addTask('end')">+ Aufgabe hinzuf√ºgen</button>
        </div>

        <div class="footer-stats">
            <div><strong>Tagesfortschritt:</strong> <span id="total-progress">0/13 Aufgaben erledigt</span></div>
            <div><strong>Aktuelle Zeit:</strong> <span id="current-time"></span></div>
        </div>
    </div>

    <script>
        // Aktuelles Datum setzen
        document.getElementById('currentDate').value = new Date().toISOString().split('T')[0];
        
        // Uhrzeit anzeigen
        function updateTime() {
            const now = new Date();
            document.getElementById('current-time').textContent = now.toLocaleTimeString('de-DE');
        }
        updateTime();
        setInterval(updateTime, 1000);

        function updateProgress() {
            const timeBlocks = ['early', 'morning', 'forenoon', 'afternoon', 'end'];
            let totalTasks = 0;
            let totalCompleted = 0;

            timeBlocks.forEach(timeBlock => {
                const checkboxes = document.querySelectorAll(`tr[data-time="${timeBlock}"] .checkbox`);
                const completed = document.querySelectorAll(`tr[data-time="${timeBlock}"] .checkbox:checked`);
                
                document.getElementById(`progress-${timeBlock}`).textContent = `${completed.length}/${checkboxes.length}`;
                
                // Zeile als erledigt markieren
                checkboxes.forEach((checkbox, index) => {
                    const row = checkbox.closest('.task-row');
                    if (checkbox.checked) {
                        row.classList.add('completed');
                    } else {
                        row.classList.remove('completed');
                    }
                });

                totalTasks += checkboxes.length;
                totalCompleted += completed.length;
            });

            document.getElementById('total-progress').textContent = `${totalCompleted}/${totalTasks} Aufgaben erledigt`;
        }

        function addTask(timeBlock) {
            const table = document.querySelector(`tr[data-time="${timeBlock}"]`).closest('table');
            const newRow = document.createElement('tr');
            newRow.className = 'task-row priority-low';
            newRow.setAttribute('data-time', timeBlock);
            
            newRow.innerHTML = `
                <td class="task-cell"><input type="checkbox" class="checkbox" onchange="updateProgress()"></td>
                <td class="task-cell">
                    <input type="text" placeholder="Neue Aufgabe eingeben..." style="width: 100%; border: 1px solid #ddd; padding: 5px; border-radius: 3px;">
                </td>
                <td class="task-cell">
                    <input type="text" placeholder="Zeit" style="width: 70px; border: 1px solid #ddd; padding: 5px; border-radius: 3px;">
                </td>
                <td class="task-cell"><textarea class="notes-input" placeholder="Notizen..."></textarea></td>
            `;
            
            table.appendChild(newRow);
            updateProgress();
        }

        function exportTasks() {
            const date = document.getElementById('currentDate').value;
            let export_text = `Tages√ºbersicht vom ${date}\n${'='.repeat(40)}\n\n`;
            
            const timeBlocks = [
                {key: 'early', name: '6:45-8:30 Operative Unterst√ºtzung & Abnahmen'},
                {key: 'morning', name: '8:30-10:30 Kommunikation & Buchhaltung'},
                {key: 'forenoon', name: '10:30-12:30 Lohnthemen & Lexware'},
                {key: 'afternoon', name: '13:30-16:30 Buchhaltung & Administration'},
                {key: 'end', name: '16:30-17:00 Tagesabschluss'}
            ];

            timeBlocks.forEach(block => {
                export_text += `${block.name}\n${'-'.repeat(block.name.length)}\n`;
                
                const rows = document.querySelectorAll(`tr[data-time="${block.key}"]`);
                rows.forEach(row => {
                    const checkbox = row.querySelector('.checkbox');
                    const taskDesc = row.querySelector('.task-description')?.textContent || 
                                   row.querySelector('input[type="text"]')?.value || 'Neue Aufgabe';
                    const notes = row.querySelector('.notes-input').value;
                    const status = checkbox.checked ? '‚úÖ' : '‚≠ï';
                    
                    export_text += `${status} ${taskDesc}`;
                    if (notes) export_text += ` (${notes})`;
                    export_text += '\n';
                });
                export_text += '\n';
            });

            // Text in Zwischenablage kopieren
            navigator.clipboard.writeText(export_text).then(() => {
                alert('Tages√ºbersicht wurde in die Zwischenablage kopiert!');
            });
        }

        function resetDay() {
            if (confirm('Alle H√§kchen und Notizen f√ºr heute zur√ºcksetzen?')) {
                document.querySelectorAll('.checkbox').forEach(cb => cb.checked = false);
                document.querySelectorAll('.notes-input').forEach(input => input.value = '');
                updateProgress();
            }
        }

        // Initial progress update
        updateProgress();
    </script>
</body>
</html>